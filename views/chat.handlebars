
  <head>
    <title>Live Chat</title>
  </head>
<body class="chatBody">
<div class="container">
  <nav>
      <ul class="nav-flex-row">
        <li class="nav-item">
          <a href="/">Home</a>
        </li>
        <li class="nav-item">
          <a href="#about">About Us</a>
        </li>
        <li class="nav-item">
          <a href="/menu">Coffee Menu</a>
        </li>
        <li class="nav-item">
          <a href="/books">Read Books</a>
        </li>
        <li class="nav-item">
          <a href="/chat">Live Chat & Music</a>
        </li>
      </ul>
    </nav>
  <br><br>

  <div class="musicDiv col-lg-12 col-md-12  mt-5">
  <h1><strong>Welcome to Live Chat & Music !!</strong></h1>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/fEvM-OUbaKs/?&autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>
</div>

 <div class="text"></div>
<div class="row">
<div class="messageBox col-lg-9 col-md-9 col-sm-6 mt-4  ml-auto">
<div id="messages" class="col-lg-9 col-md-9 col-sm-6 mt-4"></div>
</div>

<div class="sendBox col-lg-9 col-md-9  mt-4  ml-auto">
<form id="send-container" >
  <input class="form-control form-control-lg" type="text" id="m" placeholder="Type your message....">
 <button type="submit" class="btn btn-primary btn-md mt-0" id="send-button"><i class="fa fa-paper-plane-o" aria-hidden="true" autocomplete="off"></i> Send</button>
</div>
</div>
 </form>
</div>
</div>

   
    

    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      $(function () {
        const name = prompt('What is your name?')
       $(".text").html(`<h1 style="text-align:center; padding:20px;margin:15px;"> <i class="fa fa-comments-o" aria-hidden="true"></i>  <strong> ${name}</strong> </h1>`)
        var socket = io();
        
        $('form').submit(function(){
          socket.emit('chat message', $('#m').val());
          $('#m').val('');
          return false;
        });

    socket.on('chat message', function (msg) {
    $('#messages').append(`<div class="mes" 
    style="background: #fff;
    box-shadow: 9px 9px 30px 0px rgba(1, 50, 101, 0.21);
    border-radius: 7px;
    width: 100%;
    height: 100%;
    margin-bottom: 15px;
    padding: 20px 15px;
    display: block;
    position: relative;
    overflow: hidden; 
    text-decoration: none;">
    <h5><strong><i class="fa fa-comments-o" aria-hidden="true"></i> : </strong>` + msg + `</h5></div>`);
       
  });
});
    </script>
  </body>

